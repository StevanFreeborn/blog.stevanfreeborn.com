@page "/Error"
@using System.Diagnostics

<PageTitle>Error</PageTitle>

<div class="container">
  <h2>Error</h2>
  <p>Sorry it's me, not you. It looks like an unhandled error occurred while processing your request.</p>

  @if (ShowRequestId)
  {
    <p>
      <strong>Request ID:</strong> <code>@RequestId</code>
    </p>
  }
</div>

@code{
  [CascadingParameter]
  private HttpContext? HttpContext { get; set; }

  private string? RequestId { get; set; }
  private bool ShowRequestId => !string.IsNullOrEmpty(RequestId);

  protected override void OnInitialized() =>
    RequestId = Activity.Current?.Id ?? HttpContext?.TraceIdentifier;
}
